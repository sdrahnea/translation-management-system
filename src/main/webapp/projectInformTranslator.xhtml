<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="main.xhtml"
                >

    <ui:define name="general_content">
            <h:outputText value="#{projectController.project.name}" />
            <p:panel header="Translator list"> 
                <p:dataTable var="translator" 
                             widgetVar="informTranslatorDataTableW"
                             value="#{translatorController.translatorList}"
                             editable="true"
                             rows="10"
                             paginator="true"
                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                             rowsPerPageTemplate="5,10,25,50"
                             sortMode="multiple"
                             emptyMessage="No translator found"
                             selection="#{projectController.informedTranslators}"
                             rowKey="#{translator.id}"
                             >
                    
                    <p:ajax event="rowSelectCheckbox" update="@this" process="@this"  />  
                    
                    <f:facet name="{Exporters}">
                        <h:commandLink>
                            <h:graphicImage value="/images/icon/excel-icon.png" width="24"/>
                            <p:dataExporter type="xls" target="translatorDataTableView" fileName="translators" />
                        </h:commandLink>

                        <h:commandLink>
                            <h:graphicImage value="/images/icon/csv-icon.png" width="24"/>
                            <p:dataExporter type="csv" target="translatorDataTableView" fileName="translators" />
                        </h:commandLink>

                        <h:commandLink>
                            <h:graphicImage value="/images/icon/xml-icon.png" width="24"/>
                            <p:dataExporter type="xml" target="translatorDataTableView" fileName="translators" />
                        </h:commandLink>
                    </f:facet>

                    <p:column selectionMode="multiple" style="width:16px;text-align:center"/>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Translator ID" />  
                        </f:facet>
                        <h:outputText value="#{translator.id}" />
                    </p:column>

                    <p:column sortBy="#{translator.name}" filterBy="#{translator.name}" footerText="contains" filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Name" />  
                        </f:facet>
                        <p:cellEditor>  
                            <f:facet name="output">  
                                <h:outputText value="#{translator.name}" />  
                            </f:facet>  
                            <f:facet name="input">  
                                <p:inputText value="#{translator.name}" />  
                            </f:facet>  
                        </p:cellEditor>
                    </p:column>

                    <p:column sortBy="#{translator.country.name}" 
                              filterBy="#{translator.country.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Country" />  
                        </f:facet>
                        <h:outputText value="#{translator.country.name}" />
                    </p:column>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Contact phone" />  
                        </f:facet>
                        <h:outputText value="#{translator.contactPhone}" />
                    </p:column>

                    <p:column sortBy="#{translator.inputLanguage1.name}" 
                              filterBy="#{translator.inputLanguage1.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Input language 1" />  
                        </f:facet>
                        <h:outputText value="#{translator.inputLanguage1.name}" />
                    </p:column>

                    <p:column sortBy="#{translator.inputLanguage2.name}" 
                              filterBy="#{translator.inputLanguage2.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Input language 2" />  
                        </f:facet>
                        <h:outputText value="#{translator.inputLanguage2.name}" />
                    </p:column>

                    <p:column sortBy="#{translator.inputLanguage3.name}" 
                              filterBy="#{translator.inputLanguage3.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Input language 3" />  
                        </f:facet>
                        <h:outputText value="#{translator.inputLanguage3.name}" />
                    </p:column>

                    <p:column sortBy="#{translator.outputLanguage.name}" 
                              filterBy="#{translator.outputLanguage.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Output language" />  
                        </f:facet>
                        <h:outputText value="#{translator.outputLanguage.name}" />
                    </p:column>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Translation rate" />  
                        </f:facet>
                        <h:outputText value="#{translator.translatorRate}" />
                    </p:column>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Proof reading rate" />  
                        </f:facet>
                        <h:outputText value="#{translator.proofReadingRate}" />
                    </p:column>

                    <p:column sortBy="#{translator.serviceProvided.name}" 
                              filterBy="#{translator.serviceProvided.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Service provided" />  
                        </f:facet>
                        <h:outputText value="#{translator.serviceProvided.name}" />
                    </p:column>


                    <p:column sortBy="#{translator.translationArea.name}" 
                              filterBy="#{translator.translationArea.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Translation area" />  
                        </f:facet>
                        <h:outputText value="#{translator.translationArea.name}" />
                    </p:column>

                    <p:column sortBy="#{translator.lastRating.name}" 
                              filterBy="#{translator.lastRating.name}" 
                              footerText="contains" 
                              filterMatchMode="contains">
                        <f:facet name="header">  
                            <h:outputText value="Rating" />  
                        </f:facet>
                        <h:outputText value="#{translator.lastRating.name}" />
                    </p:column>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Minimum rate" />  
                        </f:facet>
                        <h:outputText value="#{translator.minimumRate}" />
                    </p:column>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Last comment rate" />  
                        </f:facet>
                        <h:outputText value="#{translator.lastComment}" />
                    </p:column>

                    <p:column>
                        <f:facet name="header">  
                            <h:outputText value="Link to Proz" />  
                        </f:facet>
                        <h:outputText value="#{translator.linkToProz}" />
                    </p:column>
                </p:dataTable>

                <p:commandButton value="Inform"  
                                 action="#{projectController.workflowController('projectView')}"
                                 actionListener="#{projectController.informTranslators}" 
                                 icon="ui-icon-disk" />

            </p:panel>

    </ui:define>

</ui:composition>