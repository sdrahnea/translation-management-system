<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

    <p:dialog header="Password change" 
              widgetVar="passwordChange" 
              minHeight="40" 
              height="200"
              width="300"
              appendTo="@(body)" 
              modal="true"
              >
        <h:form>
                Hi <h:outputLabel value="#{mainController.loggedUser.name}" />. 
                You want to change the password. Please, fill the lower fields.
            <h:panelGrid columns="2" cellpadding="10">
                <h:outputLabel value="Old password" />
                <p:inputText  value="#{userController.oldPassword}"/>

                <h:outputLabel value="New password" />
                <p:inputText  value="#{userController.newPassword}"/>

                <p:commandButton value="Save" 
                                 id="saveClient" 
                                 actionListener="#{userController.changePassword}" 
                                 process="@all"
                                 update="@all"
                                 icon="ui-icon-disk" >
                </p:commandButton>
                <p:commandButton value="Cancel" 
                                 id="cancelClient" 
                                 actionListener="#{clientController.cancelClient}" 
                                 update=":form:growl"
                                 icon="ui-icon-disk" />
            </h:panelGrid>
        </h:form>
    </p:dialog>

</ui:composition>